[gcode_macro FILAMENT_LOAD]
gcode:
  SAVE_GCODE_STATE NAME=FILAMENT_LOAD
 
  PARK_CENTER

  M109 S250

  M83
  G92 E0.0
  G1 E100 F3600
  G1 E20 F3600
  G92 E0.0
  M82

  M109 S0
  RESTORE_GCODE_STATE_NAME=FILAMENT_LOAD

[gcode_macro FILAMENT_UNLOAD]
gcode:
  SAVE_GCODE_STATE NAME=FILAMENT_UNLOAD

  PARK_CENTER

  M109 S250

  M83
  G92 E0.0
  G1 E10 F300
  G1 E-10 F3600
  G1 E-100 F1800
  G92 E0.0
  M82

  TURN_OFF_HEATERS

  RESTORE_GCODE_STATE NAME=FILAMENT_UNLOAD